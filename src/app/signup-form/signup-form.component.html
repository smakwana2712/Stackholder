<div *ngIf="isLoading" class="loader">
    <mat-spinner></mat-spinner>
</div>
<div id="Header">
    <h5 style="width: 50%;"><strong>StackHolder Specification Tool</strong></h5>
    <h3 style="text-align: center;"><strong>Sign Up</strong></h3>
</div>
<div id="body">
    <mat-card>
        <div class="text-center">
            <mat-error [hidden]="!Error" style="font-size: 13px;">
                <span>{{Error?.error?.error}}</span>
                <br>
            </mat-error>
            <mat-error [hidden]="!Error2" style="font-size: 13px;">
                <span>{{Error2?.error?.error}}</span>
            </mat-error>
            <br>
        </div>
        <p *ngIf="isSignupSuccessfull">Please activate your account via the email we sent</p>
        <form *ngIf="!isSignupSuccessfull" class="form" (ngSubmit)="onSubmit()">
            <mat-form-field class="control" appearance="fill">
                <mat-label>User Name</mat-label>
                <input matInput type="text" [formControl]="nameFormControl" placeholder="Username" (ngModelChange)="checkUsername()">
                <mat-error *ngIf="nameFormControl?.hasError('required')">
                    User Name is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="nameFormControl.hasError('pattern')">
                    Minimum <strong>Four(4)</strong> characters are required
                </mat-error>
            </mat-form-field>
            <mat-form-field class="control mt-1" appearance="fill">
                <mat-label>First Name</mat-label>
                <input matInput type="text" [formControl]="firstnameFormControl" placeholder="John">
                <mat-error *ngIf="firstnameFormControl?.hasError('required')">
                    First Name is <strong>required</strong>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="control mt-1" appearance="fill">
                <mat-label>Last Name</mat-label>
                <input matInput type="text" [formControl]="lastnameFormControl" placeholder="Doe">
                <mat-error *ngIf="lastnameFormControl?.hasError('required')">
                    Last Name is <strong>required</strong>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="control" appearance="fill">
                <mat-label>Email</mat-label>
                <input matInput type="email" [formControl]="emailFormControl" placeholder="any@mail.com" (ngModelChange)="checkemail()">
                <mat-error *ngIf="emailFormControl?.hasError('required')">
                    Email is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="emailFormControl?.hasError('pattern')">
                    Invalid Email
                </mat-error>
            </mat-form-field>
            <mat-form-field class="control mt-1" appearance="fill">
                <mat-label>Password</mat-label>
                <input matInput type="{{passwordType}}" [formControl]="passwordFormControl" placeholder="Your Passord">
                <mat-icon matSuffix mat-icon-button style="font-size: 22px;" (click)="changeVisible()">visibility</mat-icon>
                <mat-error *ngIf="passwordFormControl?.hasError('required')">
                Password is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="passwordFormControl.hasError('pattern')">
                    Minimum eight characters, At least one uppercase letter, At least one lowercase letter, At least one number, At least one special character
                </mat-error>
            </mat-form-field>
            <div class="text-center mt-2 control">
                <button class="btn btn-primary btn-block btn-sm" type="submit" >Sign Up</button>
            </div>
            <span style="text-align: center;" class="mt-2">
                <p>Already Have an Account? <a [routerLink]="['/signin']">Sign In</a></p>  
            </span>
        </form>
    </mat-card>
</div>